<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: http://www.facebook.com/2008/fbml">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Golden Dancer</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Geo:400i" rel="stylesheet">
    </head>
    <body>

        <div class="wrap">

            <div class="content">
                <canvas id="canvas"></canvas>
            </div>


            <div class="op">
                <div class="op__container">
                    <h1>Let's dance!</h1>
                    <div class="op__keyboard"><img src="imgs/keyboard.svg"></div>
                    <div id="typeAnyKey" class="op__anykey">[&nbsp;type any key!&nbsp;]</div>
                </div>
            </div>

            <div class="info">
                <div class="info__container">
                    <h2>What is this &#63;</h2>
                    <p>This experiment is using MMD file format which is originally used to produced 3D character model and dance motion data for the Vocaloid character like Hatsune Miku.</p>
                    <div class="info__img"><img src="./imgs/info.png" height="75"></div>
                    <p>I used a texture to pass MMD skinned mesh vertex data to the GPU. This method produces high-performance calculation and expanding expression ideas with MMD.</p>
                    <p>You can check detail from the repository.
                        <a href="https://github.com/su8erlemon/passing_mmd_motion_to_gpu" target="_blank">https://github.com/su8erlemon/passing_mmd_motion_to_gpu</a>
                    </p>

                </div>
            </div>

            <div class="footer" id="footer">
                <div class="footer--info"><a href="https://twitter.com/su8erlemon" target="_blank"> Author: @su8elemon</a></div>
            </div>


            <div id="wp-loading">
                <div id="wp-loading-container">
                    <div class="loading-text">
                        <div id="loadingNum">Loading 0 %</div>
                        <div class="loading__sound"><img src="imgs/speaker-filled-audio-tool.svg"></div>
                    </div>
                </div>
            </div>

        </div>

        <script>

            window.onload = function(){
                //----------------------------------------------------------------------------------------
                // webgl check
                //----------------------------------------------------------------------------------------
                 var notSupport = function(){
                     document.body.innerHTML = "<div style='font-size: 16px; padding: 20px;'>Sorry, Your browser does not support WebGL. <br/>\
                                Please download Chrome, Firefox or Safari with WebGL enabled try launching this site again.</div>";
                 }

                 var CanvasDetector = {
                     canCanvas: function () { return !!window.CanvasRenderingContext2D },
                     canWebGL: function () {
                         try{
                             return !!window.WebGLRenderingContext && !!document.createElement( 'canvas' ).getContext( 'experimental-webgl' );
                         }catch( e ) {
                             return false;
                         }
                     }
                 };

                 if( !CanvasDetector.canCanvas() ) {
                     notSupport();
                     return;
                 }else if( !CanvasDetector.canWebGL() ) {
                     notSupport();
                     return;
                 }
                 //----------------------------------------------------------------------------------------
                 // webgl check
                 //----------------------------------------------------------------------------------------
            }

        </script>
        <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/p5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>

        <script src="lib/js/three.js"></script>
        <script src="lib/js/mmdparser.min.js"></script>
        <script src="lib/js/TGALoader.js"></script>
        <script src="lib/js/MMDLoader.js"></script>
        <script src="lib/js/CCDIKSolver.js"></script>
        <script src="lib/js/dat.gui.min.js"></script>
        <script src="lib/js/GPUComputationRenderer.js"></script>

        <script src="build.js"></script>
    </body>
</html>